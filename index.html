<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Be My Valentine ğŸ’–</title>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      height: 100vh;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: "Poppins", sans-serif;
      overflow: hidden;
    }

    .card {
      background: white;
      padding: 30px;
      border-radius: 24px;
      text-align: center;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      width: 90%;
      max-width: 380px;
      animation: pop 0.6s ease;
      z-index: 1;
      word-wrap: break-word;
      overflow-wrap: anywhere;
    }

    @keyframes pop {
      from { transform: scale(0.85); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    h1 { color: #ff4d6d; font-size: clamp(1.7rem,5vw,2.3rem); }
    h2 { margin: 15px 0; font-size: clamp(1.2rem,4vw,1.6rem); }
    p  { color: #555; font-size: clamp(1rem,3.5vw,1.1rem); line-height: 1.6; }

    .buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    button {
      padding: 14px;
      border-radius: 30px;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      background: #ffe3e8;
    }

    .primary {
      background: #ff4d6d;
      color: white;
    }

    textarea {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #ddd;
      font-size: 0.95rem;
      resize: none;
    }

    .answers {
  max-height: 45vh;              /* limits height */
  overflow-y: auto;              /* scroll inside */
  padding-right: 6px;
  text-align: left;
  font-size: 0.95rem;
  line-height: 1.5;
  word-wrap: break-word;
  overflow-wrap: anywhere;
}

/* optional: nicer scrollbar */
.answers::-webkit-scrollbar {
  width: 4px;
}
.answers::-webkit-scrollbar-thumb {
  background: #ffb3c1;
  border-radius: 10px;
}



    .heart {
      position: absolute;
      color: #ff4d6d;
      animation: float 5s linear infinite;
      opacity: 0.6;
      pointer-events: none;
    }

    @keyframes float {
      from { transform: translateY(100vh); }
      to { transform: translateY(-10vh); }
    }
  </style>
</head>

<body>

<div class="card" id="card">
  <h1>Hey My Love ğŸ’•</h1>
  <p>I have something special to ask youâ€¦</p>
  <h2>Will you be my Valentine? ğŸ’˜</h2>

  <div class="buttons">
    <button class="primary" onclick="startQuiz()">YES ğŸ’–</button>
  </div>
</div>

<!-- âœ… NETLIFY FORM (detected at build time) -->
<form
  name="valentine-answers"
  method="POST"
  data-netlify="true"
  data-netlify-honeypot="bot-field"
  style="display:none"
>
  <input type="hidden" name="form-name" value="valentine-answers" />
  <input type="hidden" name="answers" id="answersField" />

  <p>
    <label>Donâ€™t fill this out: <input name="bot-field" /></label>
  </p>
</form>

<script>
  const questions = [
    {
      text: "What do you love the most about me?",
      options: ["Your smile ğŸ˜Š", "Your heart â¤ï¸", "The way you care ğŸ’•", "Everything about you âœ¨"]
    },
    {
      text: "Whatâ€™s your favorite memory of me?",
      options: ["Our first conversation ğŸ’¬", "That special moment ğŸ’«", "Every laugh together ğŸ˜„", "All memories with you â¤ï¸"]
    },
    {
      text: "What do you hate about me?",
      options: [
        "That you overthink ğŸ¥º",
        "That you doubt yourself ğŸ’”",
        "That you donâ€™t see how amazing you are âœ¨",
        "Nothing at all â¤ï¸"
      ]
    },
    {
      text: "What do you think is my most unique quality?",
      options: ["Your kindness ğŸ’–", "Your honesty ğŸ¤", "Your strength ğŸ’ª", "Your soul âœ¨"]
    },
    {
      text: "What am I to you?",
      options: ["Someone special ğŸ’«", "My safe place ğŸ«‚", "My favorite person â¤ï¸", "My Valentine ğŸ’–"]
    }
  ];

  let index = 0;
  const answers = [];

  function startQuiz() {
    showQuestion();
  }

  function showQuestion() {
    const q = questions[index];
    document.getElementById("card").innerHTML = `
      <p>${q.text}</p>
      <div class="buttons">
        ${q.options.map(opt =>
          `<button onclick="saveAnswer('${opt.replace(/'/g, "\\'")}')">${opt}</button>`
        ).join("")}
        <textarea id="customAnswer" placeholder="Or write your ownâ€¦ ğŸ’Œ"></textarea>
        <button class="primary" onclick="saveTextAnswer()">Next âœ</button>
      </div>
    `;
  }

  function saveAnswer(answer) {
    answers.push(answer);
    next();
  }

  function saveTextAnswer() {
    const text = document.getElementById("customAnswer").value;
    answers.push(text || "(No written answer)");
    next();
  }

  function next() {
    index++;
    if (index < questions.length) {
      showQuestion();
    } else {
      submitToNetlify();
      showFinal();
      setTimeout(showReassurance, 10000);
    }
  }

  /* âœ… NETLIFY DOCSâ€“STYLE AJAX SUBMIT */
  function submitToNetlify() {
    const form = document.querySelector('form[name="valentine-answers"]');
    const field = document.getElementById("answersField");

    field.value = answers.map((a, i) => `Q${i + 1}: ${a}`).join("\n");

    const formData = new FormData(form);

    fetch("/", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams(formData).toString()
    })
    .then(() => console.log("Form successfully submitted"))
    .catch(err => console.error("Form submit error", err));
  }

  function showFinal() {
    document.getElementById("card").innerHTML = `
      <h1>Always Us ğŸ’–</h1>
      <p>
        Itâ€™s okay if we have bad daysâ€¦<br>
        just donâ€™t forget our good days ğŸŒ¸<br><br>

        And please donâ€™t feel bad<br>
        that I couldnâ€™t meet you much ğŸ«‚<br><br>

        We will overcome this,<br>
        together â¤ï¸
      </p>
    `;
  }

  function showReassurance() {
  document.getElementById("card").innerHTML = `
    <h1>One Last Thing ğŸŒ¸</h1>
    <p>Hereâ€™s what you shared with me ğŸ’–</p>

    <div class="answers">
      ${answers.map((a, i) => `
        <p><strong>Q${i + 1}:</strong> ${a || "(left blank)"}</p>
      `).join("")}
    </div>

    <p style="margin-top:15px;">
      If youâ€™re comfortable,<br>
      you can send me a screenshot ğŸ“¸<br>
      Iâ€™d love to keep this moment ğŸ’Œ
    </p>
  `;
}



  // Floating hearts
  setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "â¤ï¸";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (Math.random() * 15 + 12) + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  }, 500);
</script>

</body>
</html>
